#@TYPE: Machine
#@NAME: ifc6410
#@DESCRIPTION: Machine configuration for the Inforce IFC6410, with Qualcomm Snapdragon 600 APQ8064.

require conf/machine/include/qcom-apq8064.inc

# features
MACHINE_FEATURES = "alsa kernel26 screen usb keyboard wifi ext2 ext3"

MACHINE_EXTRA_RRECOMMENDS = " \
    kernel-modules \
    ${@bb.utils.contains('DISTRO_FEATURES', 'opengl', 'mesa-driver-msm', '', d)} \
"

KERNEL_DEFCONFIG ?= "${S}/arch/arm/configs/qcom_defconfig"
KERNEL_IMAGETYPE = "zImage"
KERNEL_DEVICETREE = "qcom-apq8064-ifc6410.dtb"

SERIAL_CONSOLE = "115200 ttyMSM0"

BOOTIMG_CMDLINE_ROOT ?= "root=/dev/mmcblk0p12 rootwait"
BOOTIMG_PAGE_SIZE ?= "2048"
BOOTIMG_BASE_ADDR ?= "0x80200000"
DT_IMAGE_BASE_NAME ?= ""
DT_IMAGE_SYMLINK_NAME ?= ""

IMAGE_CLASSES += "image_types_fastboot"
# Fastboot expects an ext4 image, which needs to be 4096 aligned
IMAGE_ROOTFS_ALIGNMENT = "4096"

INHERIT += "qcom-firmware-mount"
